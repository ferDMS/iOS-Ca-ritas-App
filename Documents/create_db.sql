CREATE TABLE [USUARIOS] (
  [ID_USUARIO] numeric(18,0) PRIMARY KEY NOT NULL IDENTITY(1, 1),
  [NOMBRE] varchar(100),
  [A_PATERNO] varchar(100),
  [A_MATERNO] varchar(100),
  [ID_TIPO_USUARIO] numeric(2,0)
)
GO

CREATE TABLE [EVENTOS] (
  [ID_EVENTO] numeric(18,0) PRIMARY KEY NOT NULL IDENTITY(1, 1),
  [NOMBRE] varchar(200),
  [DESCRIPCION] varchar(max),
  [NUM_MAX_ASISTENTES] NUMERIC(18,0)
)
GO

CREATE TABLE [BENEFICIOS] (
  [ID_BENEFICIO] NUMERIC(18,0) PRIMARY KEY NOT NULL IDENTITY(1, 1),
  [NOMBRE] varchar(200),
  [DESCRIPCION] varchar(MAX),
  [PUNTOS] NUMERIC(18,0)
)
GO

CREATE TABLE [TIPO_USUARIO] (
  [ID_TIPO_USUARIO] NUMERIC(18,0) PRIMARY KEY NOT NULL IDENTITY(1, 1),
  [DESCRIPCION] varchar(MAX)
)
GO

CREATE TABLE [USUARIOS_BENEFICIOS] (
  [ID] NUMERIC(18,0) PRIMARY KEY NOT NULL IDENTITY(1, 1),
  [USUARIO] NUMERIC(18,0),
  [BENEFICIO] NUMERIC(18,0)
)
GO

CREATE TABLE [USUARIOS_EVENTOS] (
  [ID] NUMERIC(18,0) PRIMARY KEY NOT NULL IDENTITY(1, 1),
  [USUARIO] NUMERIC(18,0),
  [EVENTO] NUMERIC(18,0)
)
GO

CREATE TABLE [RETOS] (
  [ID_RETO] NUMERIC(18,0) PRIMARY KEY NOT NULL IDENTITY(1, 1),
  [NOMBRE] varchar(MAX),
  [DESCRIPCION] varchar(MAX),
  [PUNTAJE] NUMERIC(18,0)
)
GO

CREATE TABLE [USUARIOS_RETOS] (
  [ID] NUMERIC(18,0),
  [ID_RETO] NUMERIC(18,0)
)
GO

EXEC sp_addextendedproperty
@name = N'Column_Description',
@value = 'Empleado / Voluntario',
@level0type = N'Schema', @level0name = 'dbo',
@level1type = N'Table',  @level1name = 'USUARIOS',
@level2type = N'Column', @level2name = 'ID_TIPO_USUARIO';
GO

ALTER TABLE [TIPO_USUARIO] ADD FOREIGN KEY ([ID_TIPO_USUARIO]) REFERENCES [USUARIOS] ([ID_TIPO_USUARIO])
GO

ALTER TABLE [USUARIOS_BENEFICIOS] ADD FOREIGN KEY ([USUARIO]) REFERENCES [USUARIOS] ([ID_USUARIO])
GO

ALTER TABLE [USUARIOS_BENEFICIOS] ADD FOREIGN KEY ([BENEFICIO]) REFERENCES [BENEFICIOS] ([ID_BENEFICIO])
GO

ALTER TABLE [USUARIOS_EVENTOS] ADD FOREIGN KEY ([USUARIO]) REFERENCES [USUARIOS] ([ID_USUARIO])
GO

ALTER TABLE [USUARIOS_EVENTOS] ADD FOREIGN KEY ([EVENTO]) REFERENCES [EVENTOS] ([ID_EVENTO])
GO

ALTER TABLE [USUARIOS_RETOS] ADD FOREIGN KEY ([ID]) REFERENCES [USUARIOS] ([ID_USUARIO])
GO

ALTER TABLE [USUARIOS_RETOS] ADD FOREIGN KEY ([ID_RETO]) REFERENCES [RETOS] ([ID_RETO])
GO
